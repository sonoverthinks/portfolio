---
title: MySQL 101
customID: b7a51725-0da6-4211-be5e-edab766273f4
tags: ["mysql"]
---

## MySQL Basics

### Connecting to MySQL

```bash
mysql -u root -p
```

### Database Operations

```sql
SHOW DATABASES; -- List available databases
CREATE DATABASE <name>;
DROP DATABASE <name>;
USE <name>;
SELECT DATABASE(); -- Return the current database
```

## Data Types

```sql
-- Numeric Types
INT; -- Whole number (max signed value: 2147483647)

-- String Types
VARCHAR(100); -- Variable-length string with max 100 characters

-- Date Types
DATE;
DATETIME;
TIMESTAMP;
```

## Tables

### Showing Tables and Columns

```sql
SHOW TABLES;
SHOW COLUMNS FROM <table_name>;
DESC <table_name>;
DESCRIBE <table_name>;
```

### Dropping Tables

```sql
DROP TABLE <table_name>;
```

## Inserting Data

```sql
INSERT INTO cats (name, age) VALUES ("Jetson", 7);

-- Multi-row Insert
INSERT INTO cats (name, age) VALUES ("Beth", 3), ("Turkey", 1), ("Ugly", 11);
```

### Handling NULL Values

```sql
name VARCHAR(40) NOT NULL; -- NULL is not permitted
```

## Quotation Marks in SQL

```sql
INSERT INTO shops (name) VALUES ('mario\'s pizza');
INSERT INTO shops (name) VALUES ('she said "haha"');
```

## Default Values

```sql
name VARCHAR(50) DEFAULT 'unnamed';
INSERT INTO cats (name, age) VALUES (NULL, NULL);
```

## Primary Keys & Auto Increment

```sql
cat_id INT NOT NULL PRIMARY KEY AUTO_INCREMENT;
```

## CRUD Operations

### Read Data

```sql
SELECT * FROM <table_name>;
SELECT name FROM <table_name>;
SELECT name, age FROM <table_name>;
SELECT cat_id AS id FROM cats;
```

### Update Data

```sql
UPDATE <table_name> SET breed = 'shorthair' WHERE breed = 'Tabby';
```

### Delete Data

```sql
DELETE FROM <table_name> WHERE name = 'egg';
DELETE FROM <table_name>; -- Empty table but keep structure
```

## String Functions

```sql
SELECT CONCAT(x, y, z) FROM <table>;
SELECT SUBSTRING('Hello World', 1, 5);
SELECT REPLACE(title, ' ', '-') FROM books;
SELECT REVERSE(author_fname) FROM books;
SELECT CHAR_LENGTH('Hello World');
SELECT UPPER(title), LOWER(title) FROM books;
```

## Refining Selection

```sql
SELECT DISTINCT author_lname FROM books;
SELECT * FROM books ORDER BY author_lname;
SELECT * FROM books LIMIT 1;
SELECT title FROM books WHERE title LIKE '%da%';
```

## Aggregate Functions

```sql
SELECT COUNT(*) FROM books;
SELECT MAX(pages) FROM books;
SELECT MIN(released_year) FROM books GROUP BY author_lname;
SELECT SUM(pages) FROM books;
SELECT AVG(pages) FROM books;
```

## Comparisons & Logical Operators

```sql
SELECT * FROM books WHERE released_year != 2017;
SELECT * FROM books WHERE released_year BETWEEN 2004 AND 2014;
SELECT title, released_year,
CASE
    WHEN released_year >= 2000 THEN 'modern lit'
    ELSE '20th century lit'
END AS genre
FROM books;
```

## Constraints & Alter Table

```sql
CREATE TABLE contacts (
    name VARCHAR(100) NOT NULL,
    phone VARCHAR(15) NOT NULL UNIQUE
);
ALTER TABLE companies ADD COLUMN phone VARCHAR(15);
ALTER TABLE companies DROP COLUMN phone;
```

## Joins

```sql
SELECT first_name, last_name, SUM(amount) AS total
FROM customers
JOIN orders ON orders.customer_id = customers.id
GROUP BY first_name, last_name
ORDER BY total;

-- LEFT JOIN
SELECT first_name, last_name, order_date, amount
FROM customers
LEFT JOIN orders ON orders.customer_id = customers.id;
```

## Many-to-Many Relationships

```sql
-- Always use a junction table
CREATE TABLE enrollment (
    student_id INT,
    course_id INT,
    FOREIGN KEY (student_id) REFERENCES students(id),
    FOREIGN KEY (course_id) REFERENCES courses(id)
);
```

## Views

```sql
CREATE VIEW full_review AS SELECT * FROM reviews;
SELECT * FROM full_review;
ALTER VIEW ordered_series AS SELECT * FROM series ORDER BY released_year;
```

## Window Functions

```sql
SELECT emp_no, department, salary, AVG(salary) OVER(PARTITION BY department)
FROM employees;

SELECT department, salary, RANK() OVER(ORDER BY salary DESC) AS overall_salary_rank
FROM employees;
```
